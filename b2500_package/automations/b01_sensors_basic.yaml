automation:
  alias: B01 Automatische Sensorerstellung f√ºr Spannungen
  description: ""
  triggers:
    - topic: hame_energy/B2500_01/CD13
      trigger: mqtt
  conditions: []
  actions:
    - variables:
        payload: "{{ trigger.payload }}"
    - if:
        - condition: template
          value_template: "{{ 'a0=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_a0/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle01",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('a0=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle01",
                "object_id": "b2500_01_zelle01",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'a1=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_a1/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle02",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('a1=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle02",
                "object_id": "b2500_01_zelle02",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'a2=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_a2/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle03",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('a2=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle03",
                "object_id": "b2500_01_zelle03",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'a3=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_a3/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle04",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('a3=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle04",
                "object_id": "b2500_01_zelle04",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'a4=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_a4/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle05",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('a4=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle05",
                "object_id": "b2500_01_zelle05",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'a5=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_a5/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle06",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('a5=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle06",
                "object_id": "b2500_01_zelle06",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'a6=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_a6/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle07",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('a6=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle07",
                "object_id": "b2500_01_zelle07",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'a7=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_a7/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle08",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('a7=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle08",
                "object_id": "b2500_01_zelle08",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'a8=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_a8/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle09",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('a8=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle09",
                "object_id": "b2500_01_zelle09",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'a9=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_a9/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle10",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('a9=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle10",
                "object_id": "b2500_01_zelle10",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'aa=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_aa/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle11",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('aa=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle11",
                "object_id": "b2500_01_zelle11",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'ab=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_ab/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle12",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('ab=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle12",
                "object_id": "b2500_01_zelle12",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'ac=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_ac/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle13",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('ac=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle13",
                "object_id": "b2500_01_zelle13",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'ad=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_ad/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle14",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('ad=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle14",
                "object_id": "b2500_01_zelle14",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'ae=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_ae/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle15",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('ae=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle15",
                "object_id": "b2500_01_zelle15",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'af=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_af/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01 Zelle16",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('af=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_zelle16",
                "object_id": "b2500_01_zelle16",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'b0=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_b0/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle01",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('b0=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle01",
                "object_id": "b2500_01_extern1_zelle01",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'b1=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_b1/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle02",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('b1=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle02",
                "object_id": "b2500_01_extern1_zelle02",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'b2=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_b2/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle03",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('b2=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle03",
                "object_id": "b2500_01_extern1_zelle03",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'b3=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_b3/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle04",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('b3=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle04",
                "object_id": "b2500_01_extern1_zelle04",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'b4=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_b4/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle05",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('b4=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle05",
                "object_id": "b2500_01_extern1_zelle05",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'b5=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_b5/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle06",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('b5=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle06",
                "object_id": "b2500_01_extern1_zelle06",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'b6=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_b6/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle07",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('b6=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle07",
                "object_id": "b2500_01_extern1_zelle07",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'b7=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_b7/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle08",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('b7=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle08",
                "object_id": "b2500_01_extern1_zelle08",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'b8=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_b8/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle09",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('b8=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle09",
                "object_id": "b2500_01_extern1_zelle09",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'b9=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_b9/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle10",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('b9=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle10",
                "object_id": "b2500_01_extern1_zelle10",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'ba=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_ba/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle11",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('ba=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle11",
                "object_id": "b2500_01_extern1_zelle11",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'bb=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_bb/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle12",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('bb=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle12",
                "object_id": "b2500_01_extern1_zelle12",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'bc=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_bc/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle13",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('bc=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle13",
                "object_id": "b2500_01_extern1_zelle13",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'bd=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_bd/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle14",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('bd=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle14",
                "object_id": "b2500_01_extern1_zelle14",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'be=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_be/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle15",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('be=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle15",
                "object_id": "b2500_01_extern1_zelle15",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'bf=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_bf/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E1 Zelle16",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('bf=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern1_zelle16",
                "object_id": "b2500_01_extern1_zelle16",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'c0=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_c0/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle01",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('c0=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle01",
                "object_id": "b2500_01_extern2_zelle01",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'c1=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_c1/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle02",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('c1=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle02",
                "object_id": "b2500_01_extern2_zelle02",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'c2=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_c2/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle03",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('c2=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle03",
                "object_id": "b2500_01_extern2_zelle03",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'c3=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_c3/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle04",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('c3=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle04",
                "object_id": "b2500_01_extern2_zelle04",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'c4=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_c4/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle05",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('c4=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle05",
                "object_id": "b2500_01_extern2_zelle05",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'c5=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_c5/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle06",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('c5=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle06",
                "object_id": "b2500_01_extern2_zelle06",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'c6=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_c6/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle07",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('c6=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle07",
                "object_id": "b2500_01_extern2_zelle07",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'c7=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_c7/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle08",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('c7=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle08",
                "object_id": "b2500_01_extern2_zelle08",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'c8=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_c8/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle09",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('c8=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle09",
                "object_id": "b2500_01_extern2_zelle09",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'c9=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_c9/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle10",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('c9=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle10",
                "object_id": "b2500_01_extern2_zelle10",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'ca=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_ca/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle11",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('ca=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle11",
                "object_id": "b2500_01_extern2_zelle11",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'cb=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_cb/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle12",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('cb=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle12",
                "object_id": "b2500_01_extern2_zelle12",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'cc=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_cc/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle13",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('cc=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle13",
                "object_id": "b2500_01_extern2_zelle13",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'cd=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_cd/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle14",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('cd=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle14",
                "object_id": "b2500_01_extern2_zelle14",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'ce=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_ce/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle15",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('ce=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle15",
                "object_id": "b2500_01_extern2_zelle15",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
    - if:
        - condition: template
          value_template: "{{ 'cf=' in payload }}"
      then:
        - data:
            topic: homeassistant/sensor/b2500_01/voltage_cf/config
            retain: true
            payload: |
              {% raw %} {
                "name": "B01E2 Zelle16",
                "state_topic": "hame_energy/B2500_01/CD13",
                "device_class": "voltage",
                "unit_of_measurement": "mV",
                "value_template": "{{ value.split('cf=')[1].split(',')[0] }}",
                "unique_id": "sensor.b2500_01_extern2_zelle16",
                "object_id": "b2500_01_extern2_zelle16",
                "entity_category": "diagnostic"
              } {% endraw %}
          action: mqtt.publish
